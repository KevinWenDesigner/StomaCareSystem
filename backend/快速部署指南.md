# å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²

å¦‚æœæ‚¨å·²ç»æœ‰äº†æœåŠ¡å™¨å’ŒåŸºç¡€ç¯å¢ƒï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å¿«é€Ÿéƒ¨ç½²ã€‚

---

## å‰ç½®æ¡ä»¶

- âœ… å·²è´­ä¹°äº‘æœåŠ¡å™¨ï¼ˆUbuntu 20.04+ï¼‰
- âœ… å·²å®‰è£… Node.js 14+
- âœ… å·²å®‰è£… MySQL 5.7+
- âœ… å·²å®‰è£… Nginx
- âœ… å·²å®‰è£… PM2
- âœ… åŸŸåå·²è§£æåˆ°æœåŠ¡å™¨IP

> è¯¦ç»†çš„ç¯å¢ƒæ­å»ºè¯·å‚è€ƒï¼š[DEPLOYMENT.md](./DEPLOYMENT.md)

---

## æ­¥éª¤1ï¼šä¸Šä¼ ä»£ç 

### æ–¹å¼Aï¼šä½¿ç”¨ Gitï¼ˆæ¨èï¼‰

```bash
cd /home/deploy
git clone your-repository-url
cd StomaCareSystem/backend
```

### æ–¹å¼Bï¼šä½¿ç”¨ SCP ä¸Šä¼ 

```bash
# åœ¨æœ¬åœ°æ‰§è¡Œ
scp -r D:/wk/Code/Cursor/2025/StomaCareSystem/backend deploy@your_server_ip:/home/deploy/
```

---

## æ­¥éª¤2ï¼šé…ç½®æ•°æ®åº“

```bash
# ç™»å½• MySQL
mysql -u root -p

# æ‰§è¡Œä»¥ä¸‹ SQL
CREATE DATABASE stoma_care_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE USER 'stoma_user'@'localhost' IDENTIFIED BY 'your_password';
GRANT ALL PRIVILEGES ON stoma_care_db.* TO 'stoma_user'@'localhost';
FLUSH PRIVILEGES;
EXIT;
```

---

## æ­¥éª¤3ï¼šé…ç½®ç¯å¢ƒå˜é‡

```bash
cd /home/deploy/backend

# åˆ›å»º .env æ–‡ä»¶
cat > .env << EOF
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=3306
DB_USER=stoma_user
DB_PASSWORD=your_password
DB_NAME=stoma_care_db

# JWTå¯†é’¥ï¼ˆä¿®æ”¹ä¸ºéšæœºå­—ç¬¦ä¸²ï¼‰
JWT_SECRET=$(node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")

# å¾®ä¿¡å°ç¨‹åºé…ç½®
WECHAT_APPID=wx61ba15d015833945
WECHAT_SECRET=39dcc9d80a1ccbc94142d96519efad07

# æœåŠ¡å™¨é…ç½®
PORT=3000
NODE_ENV=production
EOF

# ä¿æŠ¤é…ç½®æ–‡ä»¶
chmod 600 .env
```

---

## æ­¥éª¤4ï¼šä½¿ç”¨è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬

```bash
# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x deploy.sh

# åˆå§‹åŒ–éƒ¨ç½²
./deploy.sh init
```

éƒ¨ç½²è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- âœ… å®‰è£… npm ä¾èµ–
- âœ… åˆ›å»ºå¿…è¦çš„ç›®å½•
- âœ… åˆå§‹åŒ–æ•°æ®åº“
- âœ… å¯åŠ¨ PM2 åº”ç”¨
- âœ… é…ç½®è‡ªåŠ¨é‡å¯

---

## æ­¥éª¤5ï¼šé…ç½® Nginx

```bash
# åˆ›å»º Nginx é…ç½®
sudo nano /etc/nginx/sites-available/stoma-care
```

**å¤åˆ¶ä»¥ä¸‹é…ç½®ï¼ˆæ›¿æ¢åŸŸåï¼‰ï¼š**

```nginx
server {
    listen 80;
    server_name api.yourdomain.com;

    location /api {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    location /uploads {
        alias /home/deploy/backend/uploads;
        expires 30d;
    }
}
```

**å¯ç”¨é…ç½®ï¼š**

```bash
sudo ln -s /etc/nginx/sites-available/stoma-care /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
```

---

## æ­¥éª¤6ï¼šé…ç½® HTTPSï¼ˆé‡è¦ï¼‰

```bash
# å®‰è£… Certbot
sudo apt install certbot python3-certbot-nginx -y

# è·å– SSL è¯ä¹¦
sudo certbot --nginx -d api.yourdomain.com

# æµ‹è¯•è‡ªåŠ¨ç»­æœŸ
sudo certbot renew --dry-run
```

---

## æ­¥éª¤7ï¼šé…ç½®å¾®ä¿¡å…¬ä¼—å¹³å°

1. ç™»å½• [å¾®ä¿¡å…¬ä¼—å¹³å°](https://mp.weixin.qq.com/)
2. è¿›å…¥ï¼š**å¼€å‘ > å¼€å‘ç®¡ç† > å¼€å‘è®¾ç½® > æœåŠ¡å™¨åŸŸå**
3. é…ç½®ï¼š
   - requeståˆæ³•åŸŸåï¼š`https://api.yourdomain.com`
   - uploadFileåˆæ³•åŸŸåï¼š`https://api.yourdomain.com`
   - downloadFileåˆæ³•åŸŸåï¼š`https://api.yourdomain.com`

---

## æ­¥éª¤8ï¼šæ›´æ–°å°ç¨‹åºé…ç½®

ä¿®æ”¹å°ç¨‹åºç«¯é…ç½®æ–‡ä»¶ï¼š

**patientApp/config.js:**
```javascript
module.exports = {
  apiBaseUrl: 'https://api.yourdomain.com/api',
  uploadUrl: 'https://api.yourdomain.com/api/assessments/upload',
  timeout: 10000,
  version: '1.0.0'
}
```

---

## ğŸ‰ éƒ¨ç½²å®Œæˆï¼

### éªŒè¯éƒ¨ç½²

```bash
# å¥åº·æ£€æŸ¥
curl https://api.yourdomain.com/api/health

# åº”è¿”å›ï¼š{"status":"ok","message":"æœåŠ¡è¿è¡Œæ­£å¸¸"}
```

### å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹çŠ¶æ€
./deploy.sh status

# æŸ¥çœ‹æ—¥å¿—
./deploy.sh logs

# é‡å¯æœåŠ¡
./deploy.sh restart

# æ›´æ–°ä»£ç 
./deploy.sh update

# å¤‡ä»½æ•°æ®åº“
./deploy.sh backup

# å¥åº·æ£€æŸ¥
./deploy.sh health
```

---

## ğŸ“‹ éƒ¨ç½²è„šæœ¬å®Œæ•´å‘½ä»¤åˆ—è¡¨

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `./deploy.sh init` | åˆå§‹åŒ–éƒ¨ç½²ï¼ˆé¦–æ¬¡ï¼‰ |
| `./deploy.sh update` | æ›´æ–°ä»£ç å¹¶é‡å¯ |
| `./deploy.sh restart` | é‡å¯æœåŠ¡ |
| `./deploy.sh stop` | åœæ­¢æœåŠ¡ |
| `./deploy.sh status` | æŸ¥çœ‹çŠ¶æ€ |
| `./deploy.sh logs` | æŸ¥çœ‹æ—¥å¿— |
| `./deploy.sh backup` | å¤‡ä»½æ•°æ®åº“ |
| `./deploy.sh restore` | æ¢å¤æ•°æ®åº“ |
| `./deploy.sh resources` | æŸ¥çœ‹ç³»ç»Ÿèµ„æº |
| `./deploy.sh clean` | æ¸…ç†æ—¥å¿— |
| `./deploy.sh health` | å¥åº·æ£€æŸ¥ |

---

## ğŸ”§ æ—¥å¸¸ç»´æŠ¤

### æ¯æ—¥æ£€æŸ¥

```bash
# æŸ¥çœ‹åº”ç”¨çŠ¶æ€
pm2 status

# æŸ¥çœ‹ç³»ç»Ÿèµ„æº
./deploy.sh resources
```

### æ›´æ–°åº”ç”¨

```bash
# æ‹‰å–æœ€æ–°ä»£ç å¹¶é‡å¯ï¼ˆé›¶åœæœºï¼‰
./deploy.sh update
```

### æ•°æ®å¤‡ä»½

```bash
# æ‰‹åŠ¨å¤‡ä»½
./deploy.sh backup

# è®¾ç½®æ¯å¤©è‡ªåŠ¨å¤‡ä»½
crontab -e

# æ·»åŠ ï¼šæ¯å¤©å‡Œæ™¨3ç‚¹å¤‡ä»½
0 3 * * * /home/deploy/backend/deploy.sh backup >> /home/deploy/backup.log 2>&1
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# åº”ç”¨æ—¥å¿—
./deploy.sh logs

# Nginx è®¿é—®æ—¥å¿—
sudo tail -f /var/log/nginx/stoma-care-access.log

# Nginx é”™è¯¯æ—¥å¿—
sudo tail -f /var/log/nginx/stoma-care-error.log
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### é—®é¢˜1ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥

```bash
# æ£€æŸ¥ MySQL æœåŠ¡
sudo systemctl status mysql

# æ£€æŸ¥ .env é…ç½®
cat .env | grep DB_

# æµ‹è¯•è¿æ¥
mysql -u stoma_user -p stoma_care_db
```

### é—®é¢˜2ï¼šPM2 åº”ç”¨å´©æºƒ

```bash
# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
pm2 logs stoma-care-backend --err

# é‡å¯åº”ç”¨
./deploy.sh restart

# å¥åº·æ£€æŸ¥
./deploy.sh health
```

### é—®é¢˜3ï¼šNginx 502 é”™è¯¯

```bash
# æ£€æŸ¥åç«¯æ˜¯å¦è¿è¡Œ
pm2 status

# æ£€æŸ¥ç«¯å£ç›‘å¬
sudo lsof -i :3000

# é‡å¯ Nginx
sudo systemctl restart nginx
```

### é—®é¢˜4ï¼šå¾®ä¿¡åŸŸåé…ç½®å¤±è´¥

**ç¡®è®¤æ¸…å•ï¼š**
- [ ] åŸŸåå·²æ­£ç¡®è§£æ
- [ ] HTTPS è¯ä¹¦å·²é…ç½®
- [ ] å°ç¨‹åºé…ç½®å·²æ›´æ–°ä¸º HTTPS åœ°å€
- [ ] é˜²ç«å¢™å·²å¼€æ”¾ 443 ç«¯å£

---

## ğŸ“ è·å–å¸®åŠ©

è¯¦ç»†æ–‡æ¡£ï¼š
- ğŸ“– [å®Œæ•´éƒ¨ç½²æŒ‡å—](./DEPLOYMENT.md)
- ğŸ“¡ [API æ¥å£æ–‡æ¡£](./API.md)
- ğŸ”§ [å®‰è£…æŒ‡å—](./INSTALL.md)

---

## ğŸ¯ ä¸‹ä¸€æ­¥

éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å¯ä»¥ï¼š

1. **ç›‘æ§åº”ç”¨**
   ```bash
   pm2 monit
   ```

2. **é…ç½®æ•°æ®åº“å¤‡ä»½**
   ```bash
   ./deploy.sh backup
   ```

3. **è®¾ç½®ç³»ç»Ÿç›‘æ§**
   - é…ç½®å‘Šè­¦é€šçŸ¥
   - è®¾ç½®æ—¥å¿—åˆ†æ
   - ç›‘æ§æœåŠ¡å™¨æ€§èƒ½

4. **ä¼˜åŒ–æ€§èƒ½**
   - å¯ç”¨ Nginx ç¼“å­˜
   - é…ç½® CDN
   - ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢

---

æ­å–œæ‚¨ï¼åç«¯å·²æˆåŠŸéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼ğŸ‰


## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²

å¦‚æœæ‚¨å·²ç»æœ‰äº†æœåŠ¡å™¨å’ŒåŸºç¡€ç¯å¢ƒï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å¿«é€Ÿéƒ¨ç½²ã€‚

---

## å‰ç½®æ¡ä»¶

- âœ… å·²è´­ä¹°äº‘æœåŠ¡å™¨ï¼ˆUbuntu 20.04+ï¼‰
- âœ… å·²å®‰è£… Node.js 14+
- âœ… å·²å®‰è£… MySQL 5.7+
- âœ… å·²å®‰è£… Nginx
- âœ… å·²å®‰è£… PM2
- âœ… åŸŸåå·²è§£æåˆ°æœåŠ¡å™¨IP

> è¯¦ç»†çš„ç¯å¢ƒæ­å»ºè¯·å‚è€ƒï¼š[DEPLOYMENT.md](./DEPLOYMENT.md)

---

## æ­¥éª¤1ï¼šä¸Šä¼ ä»£ç 

### æ–¹å¼Aï¼šä½¿ç”¨ Gitï¼ˆæ¨èï¼‰

```bash
cd /home/deploy
git clone your-repository-url
cd StomaCareSystem/backend
```

### æ–¹å¼Bï¼šä½¿ç”¨ SCP ä¸Šä¼ 

```bash
# åœ¨æœ¬åœ°æ‰§è¡Œ
scp -r D:/wk/Code/Cursor/2025/StomaCareSystem/backend deploy@your_server_ip:/home/deploy/
```

---

## æ­¥éª¤2ï¼šé…ç½®æ•°æ®åº“

```bash
# ç™»å½• MySQL
mysql -u root -p

# æ‰§è¡Œä»¥ä¸‹ SQL
CREATE DATABASE stoma_care_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE USER 'stoma_user'@'localhost' IDENTIFIED BY 'your_password';
GRANT ALL PRIVILEGES ON stoma_care_db.* TO 'stoma_user'@'localhost';
FLUSH PRIVILEGES;
EXIT;
```

---

## æ­¥éª¤3ï¼šé…ç½®ç¯å¢ƒå˜é‡

```bash
cd /home/deploy/backend

# åˆ›å»º .env æ–‡ä»¶
cat > .env << EOF
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=3306
DB_USER=stoma_user
DB_PASSWORD=your_password
DB_NAME=stoma_care_db

# JWTå¯†é’¥ï¼ˆä¿®æ”¹ä¸ºéšæœºå­—ç¬¦ä¸²ï¼‰
JWT_SECRET=$(node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")

# å¾®ä¿¡å°ç¨‹åºé…ç½®
WECHAT_APPID=wx61ba15d015833945
WECHAT_SECRET=39dcc9d80a1ccbc94142d96519efad07

# æœåŠ¡å™¨é…ç½®
PORT=3000
NODE_ENV=production
EOF

# ä¿æŠ¤é…ç½®æ–‡ä»¶
chmod 600 .env
```

---

## æ­¥éª¤4ï¼šä½¿ç”¨è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬

```bash
# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x deploy.sh

# åˆå§‹åŒ–éƒ¨ç½²
./deploy.sh init
```

éƒ¨ç½²è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- âœ… å®‰è£… npm ä¾èµ–
- âœ… åˆ›å»ºå¿…è¦çš„ç›®å½•
- âœ… åˆå§‹åŒ–æ•°æ®åº“
- âœ… å¯åŠ¨ PM2 åº”ç”¨
- âœ… é…ç½®è‡ªåŠ¨é‡å¯

---

## æ­¥éª¤5ï¼šé…ç½® Nginx

```bash
# åˆ›å»º Nginx é…ç½®
sudo nano /etc/nginx/sites-available/stoma-care
```

**å¤åˆ¶ä»¥ä¸‹é…ç½®ï¼ˆæ›¿æ¢åŸŸåï¼‰ï¼š**

```nginx
server {
    listen 80;
    server_name api.yourdomain.com;

    location /api {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    location /uploads {
        alias /home/deploy/backend/uploads;
        expires 30d;
    }
}
```

**å¯ç”¨é…ç½®ï¼š**

```bash
sudo ln -s /etc/nginx/sites-available/stoma-care /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
```

---

## æ­¥éª¤6ï¼šé…ç½® HTTPSï¼ˆé‡è¦ï¼‰

```bash
# å®‰è£… Certbot
sudo apt install certbot python3-certbot-nginx -y

# è·å– SSL è¯ä¹¦
sudo certbot --nginx -d api.yourdomain.com

# æµ‹è¯•è‡ªåŠ¨ç»­æœŸ
sudo certbot renew --dry-run
```

---

## æ­¥éª¤7ï¼šé…ç½®å¾®ä¿¡å…¬ä¼—å¹³å°

1. ç™»å½• [å¾®ä¿¡å…¬ä¼—å¹³å°](https://mp.weixin.qq.com/)
2. è¿›å…¥ï¼š**å¼€å‘ > å¼€å‘ç®¡ç† > å¼€å‘è®¾ç½® > æœåŠ¡å™¨åŸŸå**
3. é…ç½®ï¼š
   - requeståˆæ³•åŸŸåï¼š`https://api.yourdomain.com`
   - uploadFileåˆæ³•åŸŸåï¼š`https://api.yourdomain.com`
   - downloadFileåˆæ³•åŸŸåï¼š`https://api.yourdomain.com`

---

## æ­¥éª¤8ï¼šæ›´æ–°å°ç¨‹åºé…ç½®

ä¿®æ”¹å°ç¨‹åºç«¯é…ç½®æ–‡ä»¶ï¼š

**patientApp/config.js:**
```javascript
module.exports = {
  apiBaseUrl: 'https://api.yourdomain.com/api',
  uploadUrl: 'https://api.yourdomain.com/api/assessments/upload',
  timeout: 10000,
  version: '1.0.0'
}
```

---

## ğŸ‰ éƒ¨ç½²å®Œæˆï¼

### éªŒè¯éƒ¨ç½²

```bash
# å¥åº·æ£€æŸ¥
curl https://api.yourdomain.com/api/health

# åº”è¿”å›ï¼š{"status":"ok","message":"æœåŠ¡è¿è¡Œæ­£å¸¸"}
```

### å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹çŠ¶æ€
./deploy.sh status

# æŸ¥çœ‹æ—¥å¿—
./deploy.sh logs

# é‡å¯æœåŠ¡
./deploy.sh restart

# æ›´æ–°ä»£ç 
./deploy.sh update

# å¤‡ä»½æ•°æ®åº“
./deploy.sh backup

# å¥åº·æ£€æŸ¥
./deploy.sh health
```

---

## ğŸ“‹ éƒ¨ç½²è„šæœ¬å®Œæ•´å‘½ä»¤åˆ—è¡¨

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `./deploy.sh init` | åˆå§‹åŒ–éƒ¨ç½²ï¼ˆé¦–æ¬¡ï¼‰ |
| `./deploy.sh update` | æ›´æ–°ä»£ç å¹¶é‡å¯ |
| `./deploy.sh restart` | é‡å¯æœåŠ¡ |
| `./deploy.sh stop` | åœæ­¢æœåŠ¡ |
| `./deploy.sh status` | æŸ¥çœ‹çŠ¶æ€ |
| `./deploy.sh logs` | æŸ¥çœ‹æ—¥å¿— |
| `./deploy.sh backup` | å¤‡ä»½æ•°æ®åº“ |
| `./deploy.sh restore` | æ¢å¤æ•°æ®åº“ |
| `./deploy.sh resources` | æŸ¥çœ‹ç³»ç»Ÿèµ„æº |
| `./deploy.sh clean` | æ¸…ç†æ—¥å¿— |
| `./deploy.sh health` | å¥åº·æ£€æŸ¥ |

---

## ğŸ”§ æ—¥å¸¸ç»´æŠ¤

### æ¯æ—¥æ£€æŸ¥

```bash
# æŸ¥çœ‹åº”ç”¨çŠ¶æ€
pm2 status

# æŸ¥çœ‹ç³»ç»Ÿèµ„æº
./deploy.sh resources
```

### æ›´æ–°åº”ç”¨

```bash
# æ‹‰å–æœ€æ–°ä»£ç å¹¶é‡å¯ï¼ˆé›¶åœæœºï¼‰
./deploy.sh update
```

### æ•°æ®å¤‡ä»½

```bash
# æ‰‹åŠ¨å¤‡ä»½
./deploy.sh backup

# è®¾ç½®æ¯å¤©è‡ªåŠ¨å¤‡ä»½
crontab -e

# æ·»åŠ ï¼šæ¯å¤©å‡Œæ™¨3ç‚¹å¤‡ä»½
0 3 * * * /home/deploy/backend/deploy.sh backup >> /home/deploy/backup.log 2>&1
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# åº”ç”¨æ—¥å¿—
./deploy.sh logs

# Nginx è®¿é—®æ—¥å¿—
sudo tail -f /var/log/nginx/stoma-care-access.log

# Nginx é”™è¯¯æ—¥å¿—
sudo tail -f /var/log/nginx/stoma-care-error.log
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### é—®é¢˜1ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥

```bash
# æ£€æŸ¥ MySQL æœåŠ¡
sudo systemctl status mysql

# æ£€æŸ¥ .env é…ç½®
cat .env | grep DB_

# æµ‹è¯•è¿æ¥
mysql -u stoma_user -p stoma_care_db
```

### é—®é¢˜2ï¼šPM2 åº”ç”¨å´©æºƒ

```bash
# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
pm2 logs stoma-care-backend --err

# é‡å¯åº”ç”¨
./deploy.sh restart

# å¥åº·æ£€æŸ¥
./deploy.sh health
```

### é—®é¢˜3ï¼šNginx 502 é”™è¯¯

```bash
# æ£€æŸ¥åç«¯æ˜¯å¦è¿è¡Œ
pm2 status

# æ£€æŸ¥ç«¯å£ç›‘å¬
sudo lsof -i :3000

# é‡å¯ Nginx
sudo systemctl restart nginx
```

### é—®é¢˜4ï¼šå¾®ä¿¡åŸŸåé…ç½®å¤±è´¥

**ç¡®è®¤æ¸…å•ï¼š**
- [ ] åŸŸåå·²æ­£ç¡®è§£æ
- [ ] HTTPS è¯ä¹¦å·²é…ç½®
- [ ] å°ç¨‹åºé…ç½®å·²æ›´æ–°ä¸º HTTPS åœ°å€
- [ ] é˜²ç«å¢™å·²å¼€æ”¾ 443 ç«¯å£

---

## ğŸ“ è·å–å¸®åŠ©

è¯¦ç»†æ–‡æ¡£ï¼š
- ğŸ“– [å®Œæ•´éƒ¨ç½²æŒ‡å—](./DEPLOYMENT.md)
- ğŸ“¡ [API æ¥å£æ–‡æ¡£](./API.md)
- ğŸ”§ [å®‰è£…æŒ‡å—](./INSTALL.md)

---

## ğŸ¯ ä¸‹ä¸€æ­¥

éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å¯ä»¥ï¼š

1. **ç›‘æ§åº”ç”¨**
   ```bash
   pm2 monit
   ```

2. **é…ç½®æ•°æ®åº“å¤‡ä»½**
   ```bash
   ./deploy.sh backup
   ```

3. **è®¾ç½®ç³»ç»Ÿç›‘æ§**
   - é…ç½®å‘Šè­¦é€šçŸ¥
   - è®¾ç½®æ—¥å¿—åˆ†æ
   - ç›‘æ§æœåŠ¡å™¨æ€§èƒ½

4. **ä¼˜åŒ–æ€§èƒ½**
   - å¯ç”¨ Nginx ç¼“å­˜
   - é…ç½® CDN
   - ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢

---

æ­å–œæ‚¨ï¼åç«¯å·²æˆåŠŸéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼ğŸ‰


