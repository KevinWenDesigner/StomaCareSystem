# ğŸš€ GitHub Pages å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## æœ€å¿«éƒ¨ç½²æ–¹æ³•ï¼ˆ5åˆ†é’Ÿå®Œæˆï¼‰

### ğŸ“‹ å‡†å¤‡å·¥ä½œ
- âœ… API åœ°å€å·²é…ç½®: `https://stoma.ht-healthcare.com/api`
- âœ… éœ€è¦æ–‡ä»¶å·²å‡†å¤‡å¥½: `index.html`, `config.prod.js`, `.nojekyll`

---

## æ–¹æ³•ä¸€ï¼šæ‰‹åŠ¨ä¸Šä¼ ï¼ˆæœ€ç®€å•ï¼‰

### æ­¥éª¤ï¼š

#### 1. åˆ›å»º GitHub ä»“åº“
1. è®¿é—® https://github.com/new
2. å¡«å†™ï¼š
   - **Repository name**: `stoma-dashboard`
   - **Description**: `é€ å£æŠ¤ç†æ•°æ®å¤§å±`
   - é€‰æ‹© **Public**
   - âŒ ä¸è¦å‹¾é€‰ä»»ä½•é¢å¤–é€‰é¡¹
3. ç‚¹å‡» **Create repository**

#### 2. ä¸Šä¼ æ–‡ä»¶
1. åœ¨æ–°ä»“åº“é¡µé¢ï¼Œç‚¹å‡» **uploading an existing file**
2. æ‹–æ‹½æˆ–é€‰æ‹©è¿™ 3 ä¸ªæ–‡ä»¶ï¼š
   - âœ… `index.html`
   - âœ… `config.prod.js`
   - âœ… `.nojekyll`
3. åº•éƒ¨å¡«å†™ï¼š
   - Commit message: `éƒ¨ç½²æ•°æ®å¤§å±`
4. ç‚¹å‡» **Commit changes**

#### 3. å¯ç”¨ GitHub Pages
1. ç‚¹å‡»ä»“åº“é¡¶éƒ¨çš„ **Settings**
2. å·¦ä¾§èœå•æ‰¾åˆ° **Pages**
3. åœ¨ **Source** ä¸‹ï¼š
   - **Branch**: é€‰æ‹© `main`
   - **Folder**: é€‰æ‹© `/ (root)`
4. ç‚¹å‡» **Save**

#### 4. ç­‰å¾…éƒ¨ç½²å®Œæˆ
- é¡µé¢ä¼šæ˜¾ç¤º: `Your site is live at https://ä½ çš„ç”¨æˆ·å.github.io/stoma-dashboard/`
- ç­‰å¾… 1-3 åˆ†é’Ÿ
- è®¿é—®è¯¥åœ°å€å³å¯

---

## æ–¹æ³•äºŒï¼šä½¿ç”¨è„šæœ¬ï¼ˆæ¨èï¼‰

### Windows ç”¨æˆ·ï¼š

**åŒå‡»è¿è¡Œ**: `deploy-to-github-pages.bat`

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- âœ… æ£€æŸ¥å¿…è¦æ–‡ä»¶
- âœ… åˆ›å»ºéƒ¨ç½²ç›®å½•
- âœ… å¤åˆ¶æ–‡ä»¶
- âœ… åˆå§‹åŒ– Git
- âœ… æç¤ºåç»­æ­¥éª¤

ç„¶åæŒ‰ç…§è„šæœ¬æç¤ºæ“ä½œå³å¯ã€‚

### Mac/Linux ç”¨æˆ·ï¼š

```bash
# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x deploy-to-github-pages.sh

# è¿è¡Œè„šæœ¬
./deploy-to-github-pages.sh
```

---

## æ–¹æ³•ä¸‰ï¼šGit å‘½ä»¤è¡Œ

```bash
# 1. åˆ›å»ºéƒ¨ç½²ç›®å½•
mkdir github-pages-deploy
cd github-pages-deploy

# 2. å¤åˆ¶æ–‡ä»¶
cp ../index.html .
cp ../config.prod.js .
cp ../.nojekyll .

# 3. åˆå§‹åŒ– Git
git init
git branch -M main
git add .
git commit -m "éƒ¨ç½²æ•°æ®å¤§å±"

# 4. å…³è”è¿œç¨‹ä»“åº“ï¼ˆæ›¿æ¢ä¸ºä½ çš„ä»“åº“åœ°å€ï¼‰
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/stoma-dashboard.git

# 5. æ¨é€åˆ° GitHub
git push -u origin main

# ç„¶ååœ¨ GitHub ä»“åº“è®¾ç½®ä¸­å¯ç”¨ Pages
```

---

## âš ï¸ é‡è¦ï¼šé…ç½®åç«¯ CORS

ç”±äºå‰ç«¯éƒ¨ç½²åœ¨ GitHub Pagesï¼Œåç«¯éœ€è¦å…è®¸è·¨åŸŸè®¿é—®ã€‚

### åœ¨åç«¯æœåŠ¡å™¨ä¿®æ”¹ï¼ˆé‡è¦ï¼ï¼‰

ç¼–è¾‘ `backend/src/server.js`ï¼Œæ·»åŠ  CORS é…ç½®ï¼š

```javascript
const cors = require('cors');

app.use(cors({
    origin: [
        'https://ä½ çš„ç”¨æˆ·å.github.io',  // âš ï¸ æ›¿æ¢ä¸ºä½ çš„å®é™…åœ°å€
        'http://localhost:3000'  // å¼€å‘ç¯å¢ƒ
    ],
    credentials: true,
    methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],
    allowedHeaders: ['Content-Type', 'Authorization']
}));
```

**é‡å¯åç«¯æœåŠ¡**ï¼š
```bash
cd backend
pm2 restart stoma-api
# æˆ–
npm restart
```

---

## âœ… éªŒè¯éƒ¨ç½²

è®¿é—®ä½ çš„ GitHub Pages åœ°å€åï¼š

### 1. æ£€æŸ¥é¡µé¢
- âœ… é¡µé¢æ­£å¸¸æ˜¾ç¤º
- âœ… èƒŒæ™¯åŠ¨ç”»æ­£å¸¸
- âœ… å¸ƒå±€å®Œæ•´

### 2. æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰
- **Console æ ‡ç­¾**: ä¸åº”è¯¥æœ‰çº¢è‰²é”™è¯¯
- **Network æ ‡ç­¾**: æ£€æŸ¥ API è¯·æ±‚
  - å¦‚æœçœ‹åˆ° `CORS error`ï¼Œéœ€è¦é…ç½®åç«¯ CORS
  - å¦‚æœçœ‹åˆ° `401 Unauthorized`ï¼Œéœ€è¦å…ˆç™»å½•è·å– token

### 3. ç™»å½•æµ‹è¯•
å¦‚æœæ•°æ®ä¸æ˜¾ç¤ºï¼š
1. å…ˆè®¿é—®åç«¯ç™»å½•é¡µé¢è·å– token
2. æˆ–è€…åœ¨æ§åˆ¶å°æ‰‹åŠ¨è®¾ç½® tokenï¼š
   ```javascript
   localStorage.setItem('token', 'ä½ çš„token');
   location.reload();
   ```

---

## ğŸ“± è®¿é—®åœ°å€

éƒ¨ç½²æˆåŠŸåï¼Œè®¿é—®åœ°å€æ ¼å¼ï¼š

**æ ‡å‡†åœ°å€**:
```
https://ä½ çš„GitHubç”¨æˆ·å.github.io/ä»“åº“å/
```

**ç¤ºä¾‹**:
```
https://zhangsan.github.io/stoma-dashboard/
```

### åˆ†äº«ç»™å…¶ä»–äºº
- âœ… åœ°å€å¯ä»¥ç›´æ¥åˆ†äº«
- âœ… æ‰‹æœºã€å¹³æ¿ã€ç”µè„‘éƒ½å¯ä»¥è®¿é—®
- âœ… å¯ä»¥æ·»åŠ åˆ°ä¹¦ç­¾æˆ–ä¸»å±å¹•

---

## ğŸ”„ æ›´æ–°éƒ¨ç½²

### æ–¹å¼ 1: é€šè¿‡ GitHub ç½‘é¡µ
1. è¿›å…¥ä»“åº“
2. ç‚¹å‡»æ–‡ä»¶åï¼ˆå¦‚ `index.html`ï¼‰
3. ç‚¹å‡» âœï¸ ç¼–è¾‘æŒ‰é’®
4. ä¿®æ”¹åç‚¹å‡» **Commit changes**
5. ç­‰å¾… 1-2 åˆ†é’Ÿç”Ÿæ•ˆ

### æ–¹å¼ 2: é€šè¿‡ Git
```bash
# ä¿®æ”¹æ–‡ä»¶å
git add .
git commit -m "æ›´æ–°å†…å®¹"
git push

# ç­‰å¾… 1-2 åˆ†é’Ÿç”Ÿæ•ˆ
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: é¡µé¢æ˜¾ç¤º 404
**åŸå› **: GitHub Pages è¿˜åœ¨æ„å»ºä¸­
**è§£å†³**: ç­‰å¾… 3-5 åˆ†é’Ÿï¼Œç„¶ååˆ·æ–°

### Q2: API è¯·æ±‚è¢«æ‹’ç»ï¼ˆCORSï¼‰
**åŸå› **: åç«¯æœªé…ç½® CORS
**è§£å†³**: å‚è€ƒä¸Šé¢"é…ç½®åç«¯ CORS"éƒ¨åˆ†

### Q3: æ•°æ®ä¸æ˜¾ç¤º
**åŸå› **: æœªç™»å½•ï¼Œæ²¡æœ‰ token
**è§£å†³**: 
```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œ
localStorage.setItem('token', 'ä½ çš„æœ‰æ•ˆtoken');
location.reload();
```

### Q4: ä¿®æ”¹åä¸ç”Ÿæ•ˆ
**åŸå› **: æµè§ˆå™¨ç¼“å­˜
**è§£å†³**: 
- æŒ‰ `Ctrl + F5` å¼ºåˆ¶åˆ·æ–°
- æˆ–æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- æˆ–ä½¿ç”¨æ— ç—•æ¨¡å¼æµ‹è¯•

---

## ğŸ¯ éƒ¨ç½²å®Œæˆæ¸…å•

- [ ] å·²åˆ›å»º GitHub ä»“åº“
- [ ] å·²ä¸Šä¼  3 ä¸ªå¿…è¦æ–‡ä»¶
- [ ] å·²å¯ç”¨ GitHub Pages
- [ ] å·²é…ç½®åç«¯ CORS
- [ ] é¡µé¢å¯ä»¥æ­£å¸¸è®¿é—®
- [ ] API è¯·æ±‚æˆåŠŸ
- [ ] æ•°æ®æ­£å¸¸æ˜¾ç¤º

---

## ğŸŒŸ å®Œæˆï¼

**ä½ çš„æ•°æ®å¤§å±ç°åœ¨å¯ä»¥åœ¨å…¨çƒä»»ä½•åœ°æ–¹è®¿é—®äº†ï¼**

ç‰¹ç‚¹ï¼š
- âœ… å®Œå…¨å…è´¹
- âœ… è‡ªåŠ¨ HTTPS
- âœ… CDN åŠ é€Ÿ
- âœ… æ— éœ€æœåŠ¡å™¨
- âœ… éšæ—¶æ›´æ–°

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

1. æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£: `DEPLOYMENT.md`
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
3. éªŒè¯åç«¯ API æ˜¯å¦æ­£å¸¸ï¼š
   ```bash
   curl https://stoma.ht-healthcare.com/api/dashboard/stats
   ```

---

**ç¥éƒ¨ç½²é¡ºåˆ©ï¼** ğŸ‰

