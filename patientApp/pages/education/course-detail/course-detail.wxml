<!--patient-app/pages/education/course-detail/course-detail.wxml-->
<view class="container">
  <!-- é¡µé¢å¤´éƒ¨ -->
  <view class="page-header">
    <view class="header-left" bindtap="goBack">
      <text class="back-icon">â†</text>
    </view>
    <text class="page-title">è¯¾ç¨‹è¯¦æƒ…</text>
    <view class="header-right"></view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading-state">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- è¯¾ç¨‹è¯¦æƒ… -->
  <view wx:else class="course-detail">
    <!-- è¯¾ç¨‹åŸºæœ¬ä¿¡æ¯ -->
    <view class="course-info">
      <view class="course-header">
        <text class="course-title">{{course.title}}</text>
        <view class="course-level level-{{course.level}}">
          <text class="level-text">{{course.levelText}}</text>
        </view>
      </view>
      
      <text class="course-desc">{{course.description}}</text>
      
      <view class="course-meta">
        <view class="meta-item">
          <text class="meta-icon">â±ï¸</text>
          <text class="meta-text">{{course.duration}}</text>
        </view>
        <view class="meta-item">
          <text class="meta-icon">ğŸ‘¥</text>
          <text class="meta-text">{{course.students}}äººå­¦ä¹ </text>
        </view>
        <view class="meta-item">
          <text class="meta-icon">â­</text>
          <text class="meta-text">{{course.rating}}åˆ†</text>
        </view>
        <view class="meta-item meta-like" bindtap="likeCourse">
          <text class="meta-icon">{{isLiked ? 'â¤ï¸' : 'ğŸ¤'}}</text>
          <text class="meta-text">{{likeCount}}</text>
        </view>
      </view>
    </view>

    <!-- å­¦ä¹ è¿›åº¦ -->
    <view class="progress-section">
      <view class="section-header">
        <text class="section-title">å­¦ä¹ è¿›åº¦</text>
        <text class="section-subtitle">{{isEnrolled ? 'ç»§ç»­å­¦ä¹ ' : 'å¼€å§‹å­¦ä¹ '}}</text>
      </view>
      
      <view class="progress-card">
        <view class="progress-bar">
          <view class="progress-fill" style="width: {{userProgress}}%"></view>
        </view>
        <text class="progress-text">å·²å®Œæˆ {{userProgress}}%</text>
      </view>
    </view>

    <!-- è¯¾ç¨‹ç« èŠ‚ -->
    <view wx:if="{{course.chapters}}" class="chapters-section">
      <view class="section-header">
        <text class="section-title">è¯¾ç¨‹ç« èŠ‚</text>
        <text class="section-subtitle">å…±{{course.chapters.length}}ä¸ªç« èŠ‚</text>
      </view>
      
      <view class="chapters-list">
        <view wx:for="{{course.chapters}}" wx:key="id" class="chapter-item">
          <view class="chapter-info">
            <view class="chapter-header">
              <text class="chapter-number">ç¬¬{{item.id}}ç« </text>
              <text class="chapter-duration">{{item.duration}}</text>
            </view>
            <text class="chapter-title">{{item.title}}</text>
          </view>
          
          <view class="chapter-status">
            <text wx:if="{{item.completed}}" class="status-completed">å·²å®Œæˆ</text>
            <text wx:else class="status-pending">å¾…å­¦ä¹ </text>
          </view>
        </view>
      </view>
    </view>

    <!-- è¯¾ç¨‹ä»‹ç» -->
    <view class="intro-section">
      <view class="section-header">
        <text class="section-title">è¯¾ç¨‹ä»‹ç»</text>
      </view>
      
      <view class="intro-content">
        <text class="intro-text">
          æœ¬è¯¾ç¨‹å°†å¸®åŠ©æ‚¨å…¨é¢äº†è§£é€ å£æŠ¤ç†çš„åŸºç¡€çŸ¥è¯†ï¼ŒåŒ…æ‹¬åŸºæœ¬æ¦‚å¿µã€æŠ¤ç†åŸåˆ™ã€ç”¨å“é€‰æ‹©ç­‰å†…å®¹ã€‚
          é€šè¿‡ç³»ç»Ÿå­¦ä¹ ï¼Œæ‚¨å°†æŒæ¡ä¸“ä¸šçš„é€ å£æŠ¤ç†æŠ€èƒ½ï¼Œä¸ºæ‚£è€…æä¾›æ›´å¥½çš„æŠ¤ç†æœåŠ¡ã€‚
        </text>
      </view>
    </view>

    <!-- å­¦ä¹ ç›®æ ‡ -->
    <view class="objectives-section">
      <view class="section-header">
        <text class="section-title">å­¦ä¹ ç›®æ ‡</text>
      </view>
      
      <view class="objectives-list">
        <view class="objective-item">
          <text class="objective-icon">ğŸ¯</text>
          <text class="objective-text">æŒæ¡é€ å£æŠ¤ç†çš„åŸºæœ¬æ¦‚å¿µå’Œé‡è¦æ€§</text>
        </view>
        <view class="objective-item">
          <text class="objective-icon">ğŸ“š</text>
          <text class="objective-text">äº†è§£ä¸åŒç±»å‹é€ å£çš„ç‰¹ç‚¹å’ŒæŠ¤ç†è¦ç‚¹</text>
        </view>
        <view class="objective-item">
          <text class="objective-icon">ğŸ› ï¸</text>
          <text class="objective-text">å­¦ä¼šé€‰æ‹©åˆé€‚çš„æŠ¤ç†ç”¨å“</text>
        </view>
        <view class="objective-item">
          <text class="objective-icon">ğŸ¥</text>
          <text class="objective-text">æŒæ¡æŠ¤ç†ç¯å¢ƒçš„å‡†å¤‡å’Œæ³¨æ„äº‹é¡¹</text>
        </view>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨æ“ä½œæŒ‰é’® -->
  <view class="bottom-actions">
    <button class="action-btn primary" bindtap="startLearning">
      <text class="btn-text">{{isEnrolled ? 'ç»§ç»­å­¦ä¹ ' : 'å¼€å§‹å­¦ä¹ '}}</text>
    </button>
  </view>
</view> 